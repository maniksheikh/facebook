// Import the functions you need from the SDKs you need
import firebase from "firebase/compat/app";
import  "firebase/compat/auth";

const firebaseConfig = {
  apiKey: "AIzaSyB1uG6b6vh5EiEc0OgWh2ZI_NcLQkR6Olo",
  authDomain: "facrbook-clone.firebaseapp.com",
  projectId: "facrbook-clone",
  storageBucket: "facrbook-clone.appspot.com",
  messagingSenderId: "353017253218",
  appId: "1:353017253218:web:15100dbdbddd1f4f78f03b",
  measurementId: "G-K23R6WP9LV"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

export default function ({ store }) {
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      store.commit("setUser", user);
    } else {
      store.commit("setUser", null);
    }
  });
}